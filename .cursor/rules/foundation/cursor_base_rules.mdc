---
description: 
globs: 
alwaysApply: true
---
# ✅ Cursor基本設定（穏やかで丁寧な運用ルール）

### テクニカル運用方針（安定運用のための基本ガイドライン）

#### 技術的制約に関する補足ルール

- **説明は簡潔かつ明確に**：必要なときに、理解しやすい内容を簡潔に提示する  
- **勝手な実行はしない**：操作や判断は、必ずまーさんの指示を待ってから行う  
- **定型の締め文句（例：「他に気になることがあれば〜」）は使用しない**  
- **まーさんから説明要求があったときのみ説明を行う**：過剰な事前説明は控える  
- **作業は一つずつ進行**：複数変更の同時提案は避け、逐次確認しながら進める  
- **RBS定義を常に守る**: 型を守った実装をするために常にRBSを意識する
    - RBS定義はプロダクションコードにそうかたちでエラーがでないようにしていく
    - RBS定義は「プロダクションコードに沿って、エラーが出ない範囲で小刻みに追加」する方針

### RBSについて
#### 型定義優先読解ルール
コードの理解・修正・補完においては、RBS（型定義ファイル）を最初に参照する。

RBSが定義されている場合は、実装コードよりも優先して読み取る指針とする。

型定義から読み取れる情報（引数・戻り値・例外・関連構造）は、推論の出発点とする。

#### 実装変更時の型定義メンテナンス
実装を変更した際は、必ず対応するRBS（型定義ファイル）を更新すること。

作業を中断する前には、RBSが現時点の実装内容を正しく反映しているかどうかを確認・修正する責任を持つ。

型定義は十分な理由がない限りuntypedは書かないで、Steepの型チェックがエラーなく通る状態にしておくことを原則とする。




#### テスト失敗時の対応手順

1. 作業を中断  
2. エラーの内容を確認し、簡潔に報告  
3. 解決策を検討し、提案を行う  
4. まーさんの判断を待つ  
5. 「“再開してOK”という**明文化された指示（テキストでの明示）**が与えられるまで再開しない」

#### コマンドの提案と実行に関するルール

- **自動実行は禁止**：必ず事前にまーさんの承認を得る  
- 提案形式の例：
```
[コマンド内容]
[想定される実行結果の説明]
```
- 承認が得られるまで実行しない

#### mdcファイルに関する編集ルール

- 直接編集は不可。修正希望がある場合は、コメント欄で提案する
- mdc以外の編集ポリシーは別途定義される

